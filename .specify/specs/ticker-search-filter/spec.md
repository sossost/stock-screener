# Feature Specification: 티커 검색 필터

**Feature Branch**: `feature/ticker-search-filter`  
**Created**: 2025-11-10  
**Status**: Completed

## User Scenarios & Testing _(mandatory)_

### User Story 1 - 티커 검색 필터 추가 (Priority: P1)

사용자가 검색 인풋에 티커(심볼)의 일부를 입력하여 원하는 종목만 빠르게 찾을 수 있어야 합니다. 예를 들어 "NV"를 입력하면 "NVDA", "NVDL" 등 "NV"가 포함된 모든 종목이 필터링되어 테이블에 표시됩니다.

**Why this priority**:

- 사용자 편의성 향상: 많은 종목 중에서 원하는 종목을 빠르게 찾을 수 있음
- 검색 효율성: 전체 심볼을 입력하지 않아도 부분 일치로 검색 가능
- 직관적인 UX: 검색 인풋을 통해 즉시 필터링 결과 확인 가능

**Independent Test**:
검색 인풋에 "NV"를 입력하면 "NV"가 포함된 심볼만 테이블에 표시되고, 검색어를 지우면 모든 종목이 다시 표시되는지 확인

**Acceptance Scenarios**:

1. **Given** 스크리너 페이지에서, **When** 검색 인풋에 "NV"를 입력, **Then** "NV"가 포함된 심볼만 테이블에 표시됨 (예: NVDA, NVDL)
2. **Given** 검색 인풋에 "AAPL"을 입력했을 때, **When** 테이블을 확인, **Then** "AAPL"이 포함된 종목만 표시됨
3. **Given** 검색 인풋에 텍스트가 입력된 상태에서, **When** 검색어를 모두 지우거나 빈 문자열로 만들면, **Then** 모든 종목이 다시 표시됨
4. **Given** 검색 인풋에 존재하지 않는 티커를 입력했을 때, **When** 테이블을 확인, **Then** "검색 결과가 없습니다"와 같은 메시지가 표시됨
5. **Given** 검색 인풋에 대소문자를 섞어 입력했을 때 (예: "nv", "NV", "Nv"), **When** 테이블을 확인, **Then** 대소문자 구분 없이 일치하는 종목이 표시됨

---

### Edge Cases

- 검색어가 빈 문자열일 때 어떻게 처리하는가?
  - 빈 문자열이면 필터를 적용하지 않고 모든 종목 표시
- 검색어에 특수문자나 공백이 포함된 경우 어떻게 처리하는가?
  - 특수문자와 공백은 제거하거나 무시하고 알파벳/숫자만 검색
- 검색어가 매우 짧을 때 (1글자) 어떻게 처리하는가?
  - 1글자 이상이면 검색 가능 (예: "A" 입력 시 "A"로 시작하는 모든 종목)
- 검색 결과가 매우 많을 때 (100개 이상) 성능은 어떻게 보장하는가?
  - 클라이언트 사이드 필터링이므로 즉시 반영되며, 서버 요청 없이 처리
- 다른 필터(이평선, 성장성 등)와 함께 사용할 때 어떻게 동작하는가?
  - AND 조건으로 동작: 티커 검색 결과 중에서 다른 필터 조건도 만족하는 종목만 표시

## Requirements _(mandatory)_

### Functional Requirements

- **FR-001**: 시스템은 검색 인풋 필드를 제공해야 함
- **FR-002**: 시스템은 검색 인풋에 입력된 텍스트로 심볼을 부분 일치 검색해야 함
- **FR-003**: 시스템은 대소문자 구분 없이 검색해야 함
- **FR-004**: 시스템은 검색 결과를 실시간으로 테이블에 반영해야 함
- **FR-005**: 시스템은 검색어가 빈 문자열일 때 모든 종목을 표시해야 함
- **FR-006**: 시스템은 검색 결과가 없을 때 적절한 메시지를 표시해야 함
- **FR-007**: 시스템은 티커 검색 필터를 다른 필터(이평선, 성장성, 수익성)와 함께 사용할 수 있어야 함 (AND 조건)
- **FR-008**: 시스템은 검색 인풋의 위치가 사용자에게 직관적이어야 함
- **FR-009**: 시스템은 검색 입력 시 성능을 최적화해야 함 (debounce, useDeferredValue)
- **FR-010**: 시스템은 검색 중일 때 불필요한 스켈레톤을 표시하지 않아야 함

### Key Entities

- **SearchInput**: 검색 인풋 컴포넌트
  - `value`: 현재 입력된 검색어 (string)
  - `onChange`: 검색어 변경 핸들러
  - `placeholder`: 플레이스홀더 텍스트 (예: "티커 검색...")

- **FilteredResults**: 필터링된 종목 목록
  - `symbol`: 종목 심볼 (string)
  - 기존 `GoldenCrossCompany` 타입의 모든 필드 포함

## Success Criteria _(mandatory)_

### Measurable Outcomes

- **SC-001**: 사용자가 검색 인풋에 티커를 입력하면 1초 이내에 필터링된 결과가 테이블에 표시됨
- **SC-002**: 검색어가 빈 문자열일 때 모든 종목이 정상적으로 표시됨
- **SC-003**: 대소문자 구분 없이 검색이 정상 작동함
- **SC-004**: 다른 필터와 함께 사용할 때 AND 조건으로 정상 작동함
- **SC-005**: 검색 결과가 없을 때 적절한 메시지가 표시됨
- **SC-006**: 검색 인풋의 위치가 사용자에게 직관적이고 접근하기 쉬움 (필터 라인 오른쪽 끝, 높이 h-12)
- **SC-007**: 기존 필터 기능들이 티커 검색 필터 추가 후에도 정상 작동함
- **SC-008**: 검색 입력 시 debounce(300ms)와 useDeferredValue를 사용하여 부드러운 UX 제공
- **SC-009**: 검색 중일 때 스켈레톤이 표시되지 않음 (서버 필터 변경 중에만 표시)

